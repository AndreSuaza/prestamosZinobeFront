<div class="container">
    <div class="row justify-content-md-center">
      <div class="col col-lg-6">

        <h3 class="text-dark mt-4">Nueva Solicitud</h3>

        <div *ngIf="!usersService.user" class="card text-center mt-4">
            <div class="card-body">
                
                <h3 class="text-dark">Buscar Usuario</h3>

                <form [formGroup]="searchUser" >

                    <div class="form-row centralForm">
                        <input type="email" formControlName="correo" class="form-control mt-4" placeholder="Correo del Usuario">
                        <small class="form-text text-danger">{{ getErrorSearchUser('Correo', 'correo') }}</small>
                    </div>

                    <button 
                        (click)="searchUserByEmail()" 
                        class="btn btn-primary mt-4 btn-block"
                        [disabled]="searchUser.invalid"
                    >Registrarce</button>

                </form>

            </div>
        </div>
        
        <div *ngIf="usersService.user">
            <app-mostrar-usuarios></app-mostrar-usuarios>
            <div class="card text-center mt-2">

                <div class="card-body">
            
                    <form [formGroup]="newRequest" >
            
                        <div class="form-row centralForm">
                        
                            <div class="mt-3" style="width: 100%;">
                                <app-monto [amountMin] = "1000" [amountMax] = "3000000"  (sendAmount) = "setValorSolicitado($event)"></app-monto>
                            </div>

                            <label>Fecha Pagar</label>
                            <input type="date" formControlName="fechaPagar" class="form-control">
                            <small class="form-text text-danger">{{ getError('Fecha Pagar','fechaPagar', 'f') }}</small>
            
                        </div>
            
                        <button 
                            (click)="sendRequest()" 
                            class="btn btn-primary mt-4 btn-block"
                            [disabled]="newRequest.invalid"
                        >Enviar Solicitud</button>
            
                    </form>
                    
                </div>
            </div>
        </div>

        <div *ngIf="info" class="card text-center mt-2">
            <div class="card-body">
               <h4 class="text-info">{{ info }}</h4>
            </div>
        </div>

      </div>
    </div>
</div>
